<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Harvested Wood Products Carbon Model, Version R Documentation</title>
  <meta name="description" content="This HWP vR documentation was written in bookdown.<br />
The HTML output format for this document is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Harvested Wood Products Carbon Model, Version R Documentation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This HWP vR documentation was written in bookdown.<br />
The HTML output format for this document is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="jeremygroom/HWP-vR-Documentation" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Harvested Wood Products Carbon Model, Version R Documentation" />
  
  <meta name="twitter:description" content="This HWP vR documentation was written in bookdown.<br />
The HTML output format for this document is bookdown::gitbook,
set in the _output.yml file.</p>" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="int.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">HWP vR Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Summary</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#sum-ack"><i class="fa fa-check"></i><b>1.1</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#sum-abb"><i class="fa fa-check"></i><b>1.2</b> Abbreviations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="int.html"><a href="int.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="int.html"><a href="int.html#int-struc"><i class="fa fa-check"></i><b>2.1</b> Structure of this document</a></li>
<li class="chapter" data-level="2.2" data-path="int.html"><a href="int.html#int-purp"><i class="fa fa-check"></i><b>2.2</b> General purpose and utility of the HWP C model</a></li>
<li class="chapter" data-level="2.3" data-path="int.html"><a href="int.html#int-gen"><i class="fa fa-check"></i><b>2.3</b> General description of the HWP C model</a></li>
<li class="chapter" data-level="2.4" data-path="int.html"><a href="int.html#int-assump"><i class="fa fa-check"></i><b>2.4</b> HWP model assumptions</a></li>
<li class="chapter" data-level="2.5" data-path="int.html"><a href="int.html#int-hist"><i class="fa fa-check"></i><b>2.5</b> Model history</a></li>
<li class="chapter" data-level="2.6" data-path="int.html"><a href="int.html#int-future"><i class="fa fa-check"></i><b>2.6</b> Future work</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="app.html"><a href="app.html"><i class="fa fa-check"></i><b>3</b> Option 1: Basic use of the R Shiny web application</a>
<ul>
<li class="chapter" data-level="3.1" data-path="app.html"><a href="app.html#app-sum"><i class="fa fa-check"></i><b>3.1</b> Interacting with the HWP-C vR model</a></li>
<li class="chapter" data-level="3.2" data-path="app.html"><a href="app.html#app-shiny"><i class="fa fa-check"></i><b>3.2</b> Basic web interactivity – Shiny app</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="app.html"><a href="app.html#app-shiny-home"><i class="fa fa-check"></i><b>3.2.1</b> Homepage</a></li>
<li class="chapter" data-level="3.2.2" data-path="app.html"><a href="app.html#app-shiny-timber"><i class="fa fa-check"></i><b>3.2.2</b> Timber harvest summary figures</a></li>
<li class="chapter" data-level="3.2.3" data-path="app.html"><a href="app.html#app-shiny-cse"><i class="fa fa-check"></i><b>3.2.3</b> Carbon Storage and Emissions figures</a></li>
<li class="chapter" data-level="3.2.4" data-path="app.html"><a href="app.html#app-doc"><i class="fa fa-check"></i><b>3.2.4</b> Documentation and Data Upload</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="own.html"><a href="own.html"><i class="fa fa-check"></i><b>4</b> Option 2: Upload and run your own data in the web application</a>
<ul>
<li class="chapter" data-level="4.1" data-path="own.html"><a href="own.html#own-over"><i class="fa fa-check"></i><b>4.1</b> Overview</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="own.html"><a href="own.html#own-over-inputSum"><i class="fa fa-check"></i><b>4.1.1</b> Data inputs</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="own.html"><a href="own.html#own-prov"><i class="fa fa-check"></i><b>4.2</b> Providing your own data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="own.html"><a href="own.html#own-prov-temp"><i class="fa fa-check"></i><b>4.2.1</b> Select the template files</a></li>
<li class="chapter" data-level="4.2.2" data-path="own.html"><a href="own.html#own-prov-input"><i class="fa fa-check"></i><b>4.2.2</b> Creation of the input file</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="own.html"><a href="own.html#own-qa"><i class="fa fa-check"></i><b>4.3</b> The quality assurance step</a></li>
<li class="chapter" data-level="4.4" data-path="own.html"><a href="own.html#own-shiny"><i class="fa fa-check"></i><b>4.4</b> Uploading your data and running the model from the Shiny web app</a></li>
<li class="chapter" data-level="4.5" data-path="own.html"><a href="own.html#own-mc"><i class="fa fa-check"></i><b>4.5</b> What to know about running the Monte Carlo simulation</a></li>
<li class="chapter" data-level="4.6" data-path="own.html"><a href="own.html#own-tables"><i class="fa fa-check"></i><b>4.6</b> Generated Tables</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dnld.html"><a href="dnld.html"><i class="fa fa-check"></i><b>5</b> Option 3: Operating the model from your own machine</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dnld.html"><a href="dnld.html#dnld-git"><i class="fa fa-check"></i><b>5.1</b> R, RStudio, GitHub, and downloading the files</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="dnld.html"><a href="dnld.html#dnld-git-zip"><i class="fa fa-check"></i><b>5.1.1</b> Compressed file download</a></li>
<li class="chapter" data-level="5.1.2" data-path="dnld.html"><a href="dnld.html#dnld-git-git"><i class="fa fa-check"></i><b>5.1.2</b> Clone the GitHub repository</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dnld.html"><a href="dnld.html#dnld-files"><i class="fa fa-check"></i><b>5.2</b> File structure</a></li>
<li class="chapter" data-level="5.3" data-path="dnld.html"><a href="dnld.html#dnld-shiny"><i class="fa fa-check"></i><b>5.3</b> Running the Shiny app from your computer</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="dnld.html"><a href="dnld.html#dnld-shiny-details"><i class="fa fa-check"></i><b>5.3.1</b> Details on running and editing the code</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="dnld.html"><a href="dnld.html#dnld-sa"><i class="fa fa-check"></i><b>5.4</b> The Stand-alone model: benefits, utility, and how to operate</a></li>
<li class="chapter" data-level="5.5" data-path="dnld.html"><a href="dnld.html#dnld-add"><i class="fa fa-check"></i><b>5.5</b> How to add new data years to your data set</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="model.html"><a href="model.html"><i class="fa fa-check"></i><b>6</b> HWP Model Operations</a>
<ul>
<li class="chapter" data-level="6.1" data-path="model.html"><a href="model.html#model-func"><i class="fa fa-check"></i><b>6.1</b> HWP model function</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="model.html"><a href="model.html#model-func-inp"><i class="fa fa-check"></i><b>6.1.1</b> Model inputs</a></li>
<li class="chapter" data-level="6.1.2" data-path="model.html"><a href="model.html#model-func-opp"><i class="fa fa-check"></i><b>6.1.2</b> Summary of model operations</a></li>
<li class="chapter" data-level="6.1.3" data-path="model.html"><a href="model.html#model-func-schdesc"><i class="fa fa-check"></i><b>6.1.3</b> Model schematic description</a></li>
<li class="chapter" data-level="6.1.4" data-path="model.html"><a href="model.html#model-func-schem"><i class="fa fa-check"></i><b>6.1.4</b> Model Schematic</a></li>
<li class="chapter" data-level="6.1.5" data-path="model.html"><a href="model.html#model-func-out"><i class="fa fa-check"></i><b>6.1.5</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="model.html"><a href="model.html#model-mc"><i class="fa fa-check"></i><b>6.2</b> Monte Carlo simulation</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="model.html"><a href="model.html#model-mc-spec"><i class="fa fa-check"></i><b>6.2.1</b> Simulation specifications</a></li>
<li class="chapter" data-level="6.2.2" data-path="model.html"><a href="model.html#model-mc-samp"><i class="fa fa-check"></i><b>6.2.2</b> Simulation Sampling</a></li>
<li class="chapter" data-level="6.2.3" data-path="model.html"><a href="model.html#model-mc-samphwp"><i class="fa fa-check"></i><b>6.2.3</b> Sampling and the HWP program</a></li>
<li class="chapter" data-level="6.2.4" data-path="model.html"><a href="model.html#model-mc-res"><i class="fa fa-check"></i><b>6.2.4</b> Monte Carlo results and development</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ft.html"><a href="ft.html"><i class="fa fa-check"></i><b>7</b> Frequently Asked Questions and Troubleshooting</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ft.html"><a href="ft.html#ft-faqs"><i class="fa fa-check"></i><b>7.1</b> Frequently Asked Questions</a></li>
<li class="chapter" data-level="7.2" data-path="ft.html"><a href="ft.html#ft-trbl"><i class="fa fa-check"></i><b>7.2</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Harvested Wood Products Carbon Model, Version R Documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Harvested Wood Products Carbon Model, Version R Documentation</h1>
<p class="author"><em><div class="line-block">Jeremy Groom, Ph.D.<br />
Groom Analytics, LLC<br />
<br />
Nadia Tase<br />
California Department of Forestry and Fire Protection</div></em></p>
<p class="date"><em>Date: October 04, 2022</em></p>
</div>
<div id="sum" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Summary<a href="index.html#sum" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The Harvested Wood Products (HWP) model calculates cumulative HWP carbon stocks and emissions using the <a href="https://www.ipcc-nggip.iges.or.jp/public/2006gl/pdf/4_Volume4/V4_04_Ch4_Forest_Land.pdf">Tier 3 Production Approach</a> carbon estimation guidelines developed by the <a href="https://www.ipcc.ch/">Intergovernmental Panel on Climate Change</a>. It is a deterministic model which relies on optional and required user-supplied information. The model estimation methods are described in <span class="citation">Stockmann et al. (<a href="#ref-stockmann2012" role="doc-biblioref">2012</a>)</span>. There have been several builds of the model, originally created by the U.S. Forest Service (USFS), on platforms including Microsoft Excel and C++. Through partnership with the California Department of Forestry and Fire Protection (CAL FIRE), Oregon Department of Forestry (ODF) and Groom Analytics LLC, this version of the tool (deemed HWP-C vR) builds from the previous USFS versions on the R <span class="citation">(<a href="#ref-R-base" role="doc-biblioref">R Core Team 2021</a>)</span> platform, for use in their state-level harvested wood product carbon inventories. Another USFS effort is currently underway to construct an interactive version of the model in Python. This version (HWP-C vR) is not intended to compete with or contradict the original or ongoing USFS work, but rather complement the work by being available in a different platform and coding language. This version also includes new data visualizations.</p>
<p>Here we describe the HWP-C vR build of the model based on data from the U.S. west coast states of California, Oregon, and Washington. Users may explore California and Oregon data via the <a href="https://groomanalyticsllc.shinyapps.io/HWP-C-vR/">R Shiny web application</a>. Users from any state or ownership may also upload their own data onto the app, run their data through the HWP model and associated Monte Carlo simulation, view and interact with figures, and download figures and tables.</p>
<p>Alternatively, users may access the full Shiny app R code as well as a stand-alone version of the R code for HWP model implementation. The stand-alone version allows users the opportunity to step through the code more easily, save intermediate outputs (i.e., arrays) for hand-calculation of outcomes, and alter the code to meet their own data needs. Both versions allow users to download or generate the final output tables necessary to recreate figures to their own specifications.</p>
<p>This document describes the model and structure of the code, explains how to generate input files, and provides instruction on accessing the code.</p>
<div id="sum-ack" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Acknowledgements<a href="index.html#sum-ack" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Many thanks to Nadia Tase (California Department of Forestry and Fire Protection - CAL FIRE) and Andrew Yost (Oregon Department of Forestry - ODF) for supporting the development of this work through feedback, discussion, and their own efforts to dive into the code and understand the model at its core. Jimmy Kagan (Oregon State University’s Institute for Natural Resources) and Amanda Reynolds (CAL FIRE) provided administrative support. This work would not be possible without the original work completed by Nate Anderson (United States Forest Service - USFS), Keith Stockmann (USFS), Dan Loeffler (University of Montana), and others. The information and feedback they shared has been invaluable. Feedback and support for an earlier iteration of the R-version of the model from Todd Morgan (University of Montana, Bureau of Business and Economic Research) has also been indespensible.</p>
<p>This project was funded by the California Department of Forestry and Fire Protection Purchase Order 3540-0000277546. Earlier work on the project was funded by the Oregon Department of Forestry and supported by the Institute for Natural Resources, Oregon State University.</p>
</div>
<div id="sum-abb" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Abbreviations<a href="index.html#sum-abb" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following description uses many acronyms for brevity. Here is a list of the most common:</p>
<p>BBF: Billion Board Feet<br />
BF: Board Feet<br />
BLM: Bureau of Land Management<br />
CCF: Hundred Cubic Feet<br />
CF: Cubic Feet<br />
DEC: Discard Energy Capture<br />
EEC: Emitted with Energy Capture<br />
EUR: End-use Product Ratios<br />
EWOEC: Emitted without Energy Capture<br />
HWP: Harvested Wood Products<br />
IPCC: Intergovernmental Panel on Climate Change<br />
MBF: Thousand Board Feet)<br />
MMT C: Million Metric Tons of Carbon<br />
MT: Metric Tons<br />
PIU; Products in Use<br />
PPR: Primary Product Ratios<br />
SWDS: Solid Waste Disposal Sites<br />
Tg C: Teragrams of Carbon: Tg C<br />
Tg CO2e: Teragrams of Carbon Dioxide Equivalent<br />
TPO: Timber Product Output<br />
TPR: Timber Product Ratios<br />
USFS: United States Forest Service</p>
<p>A note about units for carbon:<br />
Publications from the United States have frequently described carbon storage and emissions using the metric million metric tons carbon, or MMT C. We are using the equivalent metric, teragrams of carbon (Tg C) in the HWP model and this manual to align with common scientific reporting units. Additionally, though the tool provides estimates for carbon emissions in both units of carbon and carbon dioxide equivalents, these estimates are for the biogenic carbon content in the wood only, and do not include other carbon-based greenhouse gas emissions with different global warming potentials, such as methane.</p>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-base" class="csl-entry">
R Core Team. 2021. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-stockmann2012" class="csl-entry">
Stockmann, Keith D., Nathaniel M. Anderson, Kenneth E. Skog, Sean P. Healey, Daniel R. Loeffler, Greg Jones, and James F. Morrison. 2012. <span>“Estimates of Carbon Stored in Harvested Wood Products from the United States Forest Service Northern Region, 1906-2010.”</span> <em>Carbon Balance and Management</em> 7 (1): 1–16.
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="int.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["HWP-CvR-Documentation.pdf", "HWP-CvR-Documentation.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
