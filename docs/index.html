<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Harvested Wood Products vR Documentation</title>
  <meta name="description" content="This HWP vR documentation was written in bookdown.<br />
The HTML output format for this document is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Harvested Wood Products vR Documentation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This HWP vR documentation was written in bookdown.<br />
The HTML output format for this document is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="jeremygroom/HWP-vR-Documentation" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Harvested Wood Products vR Documentation" />
  
  <meta name="twitter:description" content="This HWP vR documentation was written in bookdown.<br />
The HTML output format for this document is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Jeremiah Groom" />


<meta name="date" content="2022-04-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="int.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">HWP vR Documentation</a></li>

<li class="divider"></li>
<li><a href="index.html#sum" id="toc-sum"><span class="toc-section-number">1</span> Summary<span></span></a>
<ul>
<li><a href="index.html#sum-ack" id="toc-sum-ack"><span class="toc-section-number">1.1</span> Acknowledgements<span></span></a></li>
<li><a href="index.html#sum-abb" id="toc-sum-abb"><span class="toc-section-number">1.2</span> Abbreviations<span></span></a></li>
</ul></li>
<li><a href="int.html#int" id="toc-int"><span class="toc-section-number">2</span> Introduction<span></span></a>
<ul>
<li><a href="int.html#int-gen" id="toc-int-gen"><span class="toc-section-number">2.1</span> General description of the HWP model<span></span></a></li>
<li><a href="int.html#int-hist" id="toc-int-hist"><span class="toc-section-number">2.2</span> Model history<span></span></a></li>
<li><a href="int.html#int-util" id="toc-int-util"><span class="toc-section-number">2.3</span> Model utility<span></span></a></li>
<li><a href="int.html#int-assump" id="toc-int-assump"><span class="toc-section-number">2.4</span> HWP model assumptions and shortcomings<span></span></a></li>
<li><a href="int.html#int-future" id="toc-int-future"><span class="toc-section-number">2.5</span> Future work<span></span></a></li>
</ul></li>
<li><a href="model.html#model" id="toc-model"><span class="toc-section-number">3</span> HWP Model Operations<span></span></a>
<ul>
<li><a href="model.html#model-func" id="toc-model-func"><span class="toc-section-number">3.1</span> HWP model function<span></span></a>
<ul>
<li><a href="model.html#model-func-inp" id="toc-model-func-inp"><span class="toc-section-number">3.1.1</span> Model inputs<span></span></a></li>
<li><a href="model.html#model-func-opp" id="toc-model-func-opp"><span class="toc-section-number">3.1.2</span> Summary of model operations<span></span></a></li>
<li><a href="model.html#model-func-schdesc" id="toc-model-func-schdesc"><span class="toc-section-number">3.1.3</span> Model schematic description<span></span></a></li>
<li><a href="model.html#model-func-schem" id="toc-model-func-schem"><span class="toc-section-number">3.1.4</span> Model Schematic<span></span></a></li>
<li><a href="model.html#model-func-out" id="toc-model-func-out"><span class="toc-section-number">3.1.5</span> Model Outputs<span></span></a></li>
</ul></li>
<li><a href="model.html#model-mc" id="toc-model-mc"><span class="toc-section-number">3.2</span> Monte Carlo simulation<span></span></a>
<ul>
<li><a href="model.html#model-mc-spec" id="toc-model-mc-spec"><span class="toc-section-number">3.2.1</span> Simulation specifications<span></span></a></li>
<li><a href="model.html#model-mc-samp" id="toc-model-mc-samp"><span class="toc-section-number">3.2.2</span> Simulation Sampling<span></span></a></li>
<li><a href="model.html#model-mc-samphwp" id="toc-model-mc-samphwp"><span class="toc-section-number">3.2.3</span> Sampling and the HWP program<span></span></a></li>
<li><a href="model.html#model-mc-res" id="toc-model-mc-res"><span class="toc-section-number">3.2.4</span> Monte Carlo results and development<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="run.html#run" id="toc-run"><span class="toc-section-number">4</span> Operating and changing the model<span></span></a>
<ul>
<li><a href="run.html#run-sum" id="toc-run-sum"><span class="toc-section-number">4.1</span> User interaction with the HWP model<span></span></a></li>
<li><a href="run.html#run-shiny" id="toc-run-shiny"><span class="toc-section-number">4.2</span> Basic web interactivity – Shiny app<span></span></a>
<ul>
<li><a href="run.html#run-shiny-timber" id="toc-run-shiny-timber"><span class="toc-section-number">4.2.1</span> Timber Harvest Summaries<span></span></a></li>
<li><a href="run.html#run-shiny-cse" id="toc-run-shiny-cse"><span class="toc-section-number">4.2.2</span> Carbon Storage and Emissions<span></span></a></li>
<li><a href="run.html#run-doc" id="toc-run-doc"><span class="toc-section-number">4.2.3</span> Documentation and Data Upload<span></span></a></li>
</ul></li>
<li><a href="run.html#run-opp" id="toc-run-opp"><span class="toc-section-number">4.3</span> Operating the model from your own machine<span></span></a>
<ul>
<li><a href="run.html#run-opp-git" id="toc-run-opp-git"><span class="toc-section-number">4.3.1</span> R, RStudio, GitHub, and downloading the files<span></span></a></li>
<li><a href="run.html#run-opp-files" id="toc-run-opp-files"><span class="toc-section-number">4.3.2</span> File structure<span></span></a></li>
<li><a href="run.html#run-opp-shiny" id="toc-run-opp-shiny"><span class="toc-section-number">4.3.3</span> Running the Shiny app from your computer<span></span></a></li>
<li><a href="run.html#run-opp-sa" id="toc-run-opp-sa"><span class="toc-section-number">4.3.4</span> The Stand-alone model: benefits, utility, and how to operate<span></span></a></li>
<li><a href="run.html#run-opp-add" id="toc-run-opp-add"><span class="toc-section-number">4.3.5</span> How to add new data years to your data set<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="own.html#own" id="toc-own"><span class="toc-section-number">5</span> Providing Your Own Data<span></span></a>
<ul>
<li><a href="own.html#own-over" id="toc-own-over"><span class="toc-section-number">5.1</span> Overview<span></span></a></li>
<li><a href="own.html#own-input" id="toc-own-input"><span class="toc-section-number">5.2</span> Creation of the input file<span></span></a>
<ul>
<li><a href="own.html#own-input-options" id="toc-own-input-options"><span class="toc-section-number">5.2.1</span> Model options<span></span></a></li>
<li><a href="own.html#own-input-harvest" id="toc-own-input-harvest"><span class="toc-section-number">5.2.2</span> Harvest<span></span></a></li>
<li><a href="own.html#own-input-bfcf" id="toc-own-input-bfcf"><span class="toc-section-number">5.2.3</span> MBF to CCF conversion factors<span></span></a></li>
<li><a href="own.html#own-input-tpr" id="toc-own-input-tpr"><span class="toc-section-number">5.2.4</span> Timber Product Ratios<span></span></a></li>
<li><a href="own.html#own-input-ppr" id="toc-own-input-ppr"><span class="toc-section-number">5.2.5</span> Primary Product Ratios<span></span></a></li>
<li><a href="own.html#own-input-eur" id="toc-own-input-eur"><span class="toc-section-number">5.2.6</span> End Use Ratios<span></span></a></li>
<li><a href="own.html#own-input-rc" id="toc-own-input-rc"><span class="toc-section-number">5.2.7</span> Ratio Categories<span></span></a></li>
<li><a href="own.html#own-input-ccfMTC" id="toc-own-input-ccfMTC"><span class="toc-section-number">5.2.8</span> CCF to metric tons carbon<span></span></a></li>
<li><a href="own.html#own-input-euhl" id="toc-own-input-euhl"><span class="toc-section-number">5.2.9</span> End-use product half-lives<span></span></a></li>
<li><a href="own.html#own-input-discFates" id="toc-own-input-discFates"><span class="toc-section-number">5.2.10</span> Discard products disposition ratios<span></span></a></li>
<li><a href="own.html#own-input-discHL" id="toc-own-input-discHL"><span class="toc-section-number">5.2.11</span> Discarded products disposition half-lives and landfill fixed ratios<span></span></a></li>
<li><a href="own.html#own-input-mc" id="toc-own-input-mc"><span class="toc-section-number">5.2.12</span> Monte Carlo values<span></span></a></li>
</ul></li>
<li><a href="own.html#own-temp" id="toc-own-temp"><span class="toc-section-number">5.3</span> Using the template files<span></span></a></li>
<li><a href="own.html#own-qa" id="toc-own-qa"><span class="toc-section-number">5.4</span> The quality assurance step<span></span></a></li>
<li><a href="own.html#own-shiny" id="toc-own-shiny"><span class="toc-section-number">5.5</span> Uploading your data and running the model from the Shiny app<span></span></a></li>
<li><a href="own.html#own-sa" id="toc-own-sa"><span class="toc-section-number">5.6</span> Using the Stand-alone to run the HWP model and Monte Carlo simulation on your data<span></span></a></li>
<li><a href="own.html#own-tables" id="toc-own-tables"><span class="toc-section-number">5.7</span> Generated Tables<span></span></a></li>
<li><a href="own.html#own-mc" id="toc-own-mc"><span class="toc-section-number">5.8</span> What to know about running the Monte Carlo simulation<span></span></a></li>
</ul></li>
<li><a href="ft.html#ft" id="toc-ft"><span class="toc-section-number">6</span> Frequently Asked Questions and Troubleshooting<span></span></a>
<ul>
<li><a href="ft.html#ft-faqs" id="toc-ft-faqs"><span class="toc-section-number">6.1</span> Frequently Asked Questions<span></span></a></li>
<li><a href="ft.html#ft-trbl" id="toc-ft-trbl"><span class="toc-section-number">6.2</span> Troubleshooting<span></span></a></li>
</ul></li>
<li><a href="references.html#references" id="toc-references">References<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Harvested Wood Products vR Documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Harvested Wood Products vR Documentation</h1>
<p class="author"><em>Jeremiah Groom</em></p>
<p class="date"><em>2022-04-20</em></p>
</div>
<div id="sum" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Summary<a href="index.html#sum" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The Harvested Wood Products (HWP) model is a deterministic model which relies on optional and required user-supplied information. The model is described in <span class="citation">K. D. Stockmann et al. (<a href="#ref-stockmann2012" role="doc-biblioref">2012</a>)</span>. There have been several builds of the model, on platforms including Microsoft Excel, C++, and now R <span class="citation">(<a href="#ref-R-base" role="doc-biblioref">R Core Team 2021</a>)</span>. Another effort is currently underway to construct an interactive version of the model in Python. This article describes a build of the model based on data from the U.S. west coast states of California, Oregon, and Washington. This R-based platform allows for user interaction with California and Oregon data via a web application (<a href="https://groomanalyticsllc.shinyapps.io/HWP_Shared_Test/" class="uri">https://groomanalyticsllc.shinyapps.io/HWP_Shared_Test/</a>). Users may also upload their own data onto the app, run their data through the HWP model and associated Monte Carlo simulation, interact with their data, and construct and save figures. Alternatively, users may access the full Shiny app code as well as a stand-alone version of the HWP model implementation. The stand-alone version allows users the opportunity to step through the code more easily, save model arrays for hand-calculation of outcomes, and alter the code to meet their own data needs. Both versions allow users to download or generate the tables necessary to recreate figures to their own specifications.
This document describes the model and structure of the code, explains how to generate input files, and provides instruction on accessing model code.</p>
<div id="sum-ack" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Acknowledgements<a href="index.html#sum-ack" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Many thanks to Nadia Tase and Andrew Yost for supporting the development of this work through feedback, discussion, and their own efforts to dive into the code and understand the model at its core. Jimmy Kagan and Amanda Reynolds provided administrative support. We received feedback and support for the earlier iteration of the R-version of the model from Todd Morgan, Dan Loffler, Keith Stockmann, [OTHERS].<br />
This project was funded by the California Department of Forestry and Fire Protection Purchase Order 3540-0000277546. Earlier work on the project was funded by the Oregon Department of Forestry and supported by the Institute for Natural Resources, Oregon State University.</p>
</div>
<div id="sum-abb" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Abbreviations<a href="index.html#sum-abb" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following description uses many acronyms for brevity. Here is a list of the most common:</p>
<p>BF: Board Feet<br />
BBF: Billion Board Feet<br />
BLM: Bureau of Land Management<br />
BWEC: Burned with Energy Capture<br />
EWEC: Emitted with Energy Capture<br />
EWOEC: Emitted without Energy Capture<br />
EUR: End-use Product Ratios<br />
HWP: Harvested Wood Products<br />
CCF: Hundred Cubic Feet<br />
IPCC: Intergovernmental Panel on Climate Change<br />
MBF: Thousand Board Feet),
MT: Metric Tons<br />
MMT C: Million Metric Tons of Carbon<br />
PPR: Primary Product Ratios<br />
PIU; Products in Use<br />
SWDS: Solid Waste Disposal Sites<br />
Tg C: Teragrams of Carbon: Tg C<br />
Tg CO2e: Teragrams of Carbon Dioxide Equivalent<br />
TPO: Timber Product Output<br />
TPR: Timber Product Ratios<br />
USFS: United States Forest Service</p>
<p>A note about units for carbon:<br />
Publications from the United States have frequently described carbon storage and emissions using the metric million metric tons carbon, or MMT C. We are using the equivalent metric, teragrams of carbon (Tg C) in the HWP model and this manual to align with IPCC reporting requirements.</p>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-base" class="csl-entry">
R Core Team. 2021. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-stockmann2012" class="csl-entry">
Stockmann, Keith D, Nathaniel M Anderson, Kenneth E Skog, Sean P Healey, Dan R Loeffler, Greg Jones, and James F Morrison. 2012. <span>“Estimates of Carbon Stored in Harvested Wood Products from the United States Forest Service Northern Region, 1906-2010.”</span> <em>Carbon Balance and Management</em> 7 (1): 1–16.
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="int.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
